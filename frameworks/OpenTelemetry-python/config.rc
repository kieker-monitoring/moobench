# OpenTelemetry-python configuration

# 1. Resolve Paths
RAW_BASE_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)

if command -v cygpath &>/dev/null; then
    BASE_DIR=$(cygpath -w "$RAW_BASE_DIR")
    RAW_MAIN_DIR="$RAW_BASE_DIR/../../"
    MAIN_DIR=$(cygpath -w "$RAW_MAIN_DIR")
    PYTHON_BIN="python"
else
    BASE_DIR="$RAW_BASE_DIR"
    MAIN_DIR="$RAW_BASE_DIR/../../"
    PYTHON_BIN="python3"
fi

if [ -f "${MAIN_DIR}/config.rc" ]; then
    source "${MAIN_DIR}/config.rc"
fi

# 3. Directories & Files
export VENV_DIR="$BASE_DIR/venv"
export REQUIREMENTS_FILE="$BASE_DIR/requirements.txt"
export CONFIG_TEMPLATE="$BASE_DIR/config.ini.template"
export CONFIG_FILE="$BASE_DIR/config.ini"

# Standardized Naming
export RESULTS_DIR="$BASE_DIR/results-OpenTelemetry-python"
export RAWFN="$RESULTS_DIR/raw"

# Tool Path (Renamed per reviewer request)
export MOOBENCH_BIN_PY="$MAIN_DIR/tools/pybenchmark/benchmark.py"

mkdir -p "$RAW_BASE_DIR/results-OpenTelemetry-python"